<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#FF5722 name=theme-color> <meta content="Anonsage dev blog and cheat sheets" name=Description> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.1410966418.css rel=stylesheet><link href=client/client.e984a261.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>How to create and publish a NPM package</title><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-12i6fi0><ul class=svelte-12i6fi0><li class=svelte-12i6fi0><a href=. class=svelte-12i6fi0>home</a></li> <li class=svelte-12i6fi0><a href=dev class=svelte-12i6fi0 rel=prefetch aria-current=page>dev</a></li> <li class=svelte-12i6fi0><a href=random class=svelte-12i6fi0 rel=prefetch>random</a></li> <li class=svelte-12i6fi0><a href=anonlang class=svelte-12i6fi0 rel=prefetch>anonlang</a></li> <li class=svelte-12i6fi0><a href=products class=svelte-12i6fi0 rel=prefetch>products</a></ul></nav> <main class=svelte-kr0vyj> <h1>How to create and publish a NPM package</h1> <small>2020-02-22</small> <div class=content><p>Assuming that you already have <code>npm</code> installed, then creating and publishing a new npm package is really easy and fast. Keep in mind that these are the minimum recommended steps, and I'll provide more resources at the bottom for more configuration options and deeper dives.</p> <p>The first section show how to publish the npm package, then the second section shows how to use it in another JavaScript project.</p> <h2 id=how-to-publish>How to Publish</h2> <ol> <li><p>(Recommended, optional) Create a new remote git repo with a README.md file</p> <ul> <li>The benefit of having the remote repo already setup is to allow the npm setup to be smarter, filling out more git-related fields automatically.</li> </ul> </li> <li><p>Create a local project directory:</p> <ul> <li>If you have the remote repo, then run: <code>git clone &lt;my-repo-url></code></li> <li>If you don't want a remote repo, then run: <code>mkdir &lt;my-project-name></code></li> </ul> </li> <li><p>Setup the npm project:</p> <ol> <li>Run: <code>cd &lt;my-project-name> && npm init</code></li> <li>Follow the interactive steps until the package.json file is created. At least add a name and email.</li> </ol> </li> <li><p>Create 'index.js' and add the following content as an example:</p> <pre class=language-javascriptreact><code> <span class=hljs-keyword>const</span> utils = {
   isOdd (num) {
     <span class=hljs-keyword>return</span> num % <span class=hljs-number>2</span> === <span class=hljs-number>1</span>
   },
   sayHello () {
     <span class=hljs-built_in>console</span>.log(<span class=hljs-string>'Hello, World!'</span>)
   }
 }

 <span class=hljs-built_in>module</span>.exports = utils</code></pre></li> <li><p>Create '.gitignore' and add the following content ('npm pack' in the next step uses this file):</p> <pre class=language-javascriptreact><code> *.tgz
 .idea/
 node_modules/</code></pre></li> <li><p>(Optional) Ensure that the correct files will be uploaded for the npm package:</p> <ol> <li>Run: <code>npm pack</code></li> <li>Check the output of the 'Tarball Contents' sections</li> </ol> </li> <li><p>Publish your new npm package: :)</p> <ol> <li>Run: <code>npm publish</code></li> <li>Ensure that there is no error. If you have a package name that is already taken, then there will be an error and you'll have to update the 'name' in 'package.json'</li> </ol> </li> <li><p>(Optional) To see your package in the npm registry, run: <code>npm home &lt;my-package-name></code></p> </li> </ol> <h2 id=how-to-use>How to Use</h2> <ol> <li><p>(Optional) Create a new npm project:</p> <ol> <li>Run: <code>mkdir &lt;my-new-project-name> && cd &lt;my-new-project-name> && npm init -y</code><ul> <li>Note: The <code>-y</code> means accept all the default values</li> </ul> </li> </ol> </li> <li><p>In your new project, install your new npm package (use the package name from the above section)</p> <ol> <li>Run: <code>npm install --save &lt;my-npm-package-name></code><ul> <li>Sidenote: An equivalent command is 'npm i -S <my-npm-package-name>'</my-npm-package-name></li> </ul> </li> </ol> </li> <li><p>Create 'index.js' and add the following content as an example (and replace <my-npm-package-name> below):</my-npm-package-name></p> <pre class=language-javascriptreact><code> <span class=hljs-keyword>const</span> utils = <span class=hljs-built_in>require</span>(<span class=hljs-string>'&lt;my-npm-package-name>'</span>)
 utils.sayHello()
 <span class=hljs-built_in>console</span>.log(utils.idOdd(<span class=hljs-number>1</span>))
 <span class=hljs-built_in>console</span>.log(utils.idOdd(<span class=hljs-number>2</span>))</code></pre></li> <li><p>Run your project: <code>node index.js</code></p> <pre class=language-javascriptreact><code> <span class=hljs-comment>// Output</span>
 Hello, World!
 <span class=hljs-literal>true</span>
 <span class=hljs-literal>false</span></code></pre></li> </ol> <p>Congrats on creating your new npm package! :)</p> <h2 id=helpful-resources>Helpful Resources</h2> <ul> <li>Great: <a href=https://zellwk.com/blog/publish-to-npm/ >https://zellwk.com/blog/publish-to-npm/</a><ul> <li><a href=https://zellwk.com/blog/publishing-npm-packages-that-can-be-used-in-browsers-and-node/ >https://zellwk.com/blog/publishing-npm-packages-that-can-be-used-in-browsers-and-node/</a></li> </ul> </li> <li>Great: <a href=https://webpack.js.org/guides/author-libraries/ >https://webpack.js.org/guides/author-libraries/</a></li> <li>Great: <a href=https://itnext.io/step-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c>https://itnext.io/step-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c</a><ul> <li>Includes great additions for automating the build and publish process</li> </ul> </li> </ul> </div> <br><br><br> <a href=../dev/2020-02-21-how-to-create-a-custom-visual-in-power-bi-using-google-charts>&lt;How to create a custom visual in Power BI using Google Charts</a> <div class=right><a href=../dev/2020-03-01-thought-experiment-one-file-apps--part-1>Thought Experiment: 1-File Apps (Part 1)></a></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{html:"\u003Cp\u003EAssuming that you already have \u003Ccode\u003Enpm\u003C\u002Fcode\u003E installed, then creating and publishing a new npm package is really easy and fast. Keep in mind that these are the minimum recommended steps, and I&#39;ll provide more resources at the bottom for more configuration options and deeper dives.\u003C\u002Fp\u003E\n\u003Cp\u003EThe first section show how to publish the npm package, then the second section shows how to use it in another JavaScript project.\u003C\u002Fp\u003E\n\u003Ch2 id=\"how-to-publish\"\u003EHow to Publish\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cp\u003E(Recommended, optional) Create a new remote git repo with a README.md file\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe benefit of having the remote repo already setup is to allow the npm setup to be smarter, filling out more git-related fields automatically.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003ECreate a local project directory:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIf you have the remote repo, then run: \u003Ccode\u003Egit clone &lt;my-repo-url&gt;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EIf you don&#39;t want a remote repo, then run: \u003Ccode\u003Emkdir &lt;my-project-name&gt;\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003ESetup the npm project:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ERun: \u003Ccode\u003Ecd &lt;my-project-name&gt; &amp;&amp; npm init\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EFollow the interactive steps until the package.json file is created. At least add a name and email.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003ECreate &#39;index.js&#39; and add the following content as an example:\u003C\u002Fp\u003E\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E utils = {\n   isOdd (num) {\n     \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E num % \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E === \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E\n   },\n   sayHello () {\n     \u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(\u003Cspan class=\"hljs-string\"\u003E'Hello, World!'\u003C\u002Fspan\u003E)\n   }\n }\n\n \u003Cspan class=\"hljs-built_in\"\u003Emodule\u003C\u002Fspan\u003E.exports = utils\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003ECreate &#39;.gitignore&#39; and add the following content (&#39;npm pack&#39; in the next step uses this file):\u003C\u002Fp\u003E\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E *.tgz\n .idea\u002F\n node_modules\u002F\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E(Optional) Ensure that the correct files will be uploaded for the npm package:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ERun: \u003Ccode\u003Enpm pack\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ECheck the output of the &#39;Tarball Contents&#39; sections\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003EPublish your new npm package: :)\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ERun: \u003Ccode\u003Enpm publish\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EEnsure that there is no error. If you have a package name that is already taken, then there will be an error and you&#39;ll have to update the &#39;name&#39; in &#39;package.json&#39;\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E(Optional) To see your package in the npm registry, run: \u003Ccode\u003Enpm home &lt;my-package-name&gt;\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"how-to-use\"\u003EHow to Use\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cp\u003E(Optional) Create a new npm project:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ERun: \u003Ccode\u003Emkdir &lt;my-new-project-name&gt; &amp;&amp; cd &lt;my-new-project-name&gt; &amp;&amp; npm init -y\u003C\u002Fcode\u003E\u003Cul\u003E\n\u003Cli\u003ENote: The \u003Ccode\u003E-y\u003C\u002Fcode\u003E means accept all the default values\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003EIn your new project, install your new npm package (use the package name from the above section)\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ERun: \u003Ccode\u003Enpm install --save &lt;my-npm-package-name&gt;\u003C\u002Fcode\u003E\u003Cul\u003E\n\u003Cli\u003ESidenote: An equivalent command is &#39;npm i -S \u003Cmy-npm-package-name\u003E&#39;\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003ECreate &#39;index.js&#39; and add the following content as an example (and replace \u003Cmy-npm-package-name\u003E below):\u003C\u002Fp\u003E\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E utils = \u003Cspan class=\"hljs-built_in\"\u003Erequire\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E'&lt;my-npm-package-name&gt;'\u003C\u002Fspan\u003E)\n utils.sayHello()\n \u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(utils.idOdd(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E))\n \u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(utils.idOdd(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E))\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003ERun your project: \u003Ccode\u003Enode index.js\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre class='language-javascriptreact'\u003E\u003Ccode\u003E \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Output\u003C\u002Fspan\u003E\n Hello, World!\n \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E\n \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003ECongrats on creating your new npm package! :)\u003C\u002Fp\u003E\n\u003Ch2 id=\"helpful-resources\"\u003EHelpful Resources\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EGreat: \u003Ca href=\"https:\u002F\u002Fzellwk.com\u002Fblog\u002Fpublish-to-npm\u002F\"\u003Ehttps:\u002F\u002Fzellwk.com\u002Fblog\u002Fpublish-to-npm\u002F\u003C\u002Fa\u003E\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fzellwk.com\u002Fblog\u002Fpublishing-npm-packages-that-can-be-used-in-browsers-and-node\u002F\"\u003Ehttps:\u002F\u002Fzellwk.com\u002Fblog\u002Fpublishing-npm-packages-that-can-be-used-in-browsers-and-node\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EGreat: \u003Ca href=\"https:\u002F\u002Fwebpack.js.org\u002Fguides\u002Fauthor-libraries\u002F\"\u003Ehttps:\u002F\u002Fwebpack.js.org\u002Fguides\u002Fauthor-libraries\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EGreat: \u003Ca href=\"https:\u002F\u002Fitnext.io\u002Fstep-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c\"\u003Ehttps:\u002F\u002Fitnext.io\u002Fstep-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c\u003C\u002Fa\u003E\u003Cul\u003E\n\u003Cli\u003EIncludes great additions for automating the build and publish process\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",title:"How to create and publish a NPM package",tags:["npm","JavaScript"],file:"2020-02-22-how-to-create-and-publish-a-npm-package.md",date:"2020-02-22",slug:"2020-02-22-how-to-create-and-publish-a-npm-package",next:{slug:"2020-03-01-thought-experiment-one-file-apps--part-1",name:"Thought Experiment: 1-File Apps (Part 1)"},previous:{slug:"2020-02-21-how-to-create-a-custom-visual-in-power-bi-using-google-charts",name:"How to create a custom visual in Power BI using Google Charts"}}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.e984a261.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.e984a261.js")}document.head.appendChild(s)</script> <script async data-goatcounter=https://anonsage.goatcounter.com/count src=//gc.zgo.at/count.js></script> 